/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20150601
 */
var __extends,System,Sm2ShimUtils,Sm2Shim,Sm2Player,domUtils;(function(n,t){function i(i,r){function dt(n){return u.preferFlash&&g&&!u.ignoreFlash&&u.flash[n]!==t&&u.flash[n]}function c(n){return function(t){var i=this._s;return i&&i._a?n.call(this,t):null}}var wr;this.setupOptions={url:i||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=r||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20150601";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var br,u=this,kr=null,f=null,gt,l=navigator.userAgent,dr=n.location.href.toString(),o=document,yi,gr,pi,e,w=[],st=!1,ht=!1,v=!1,b=!1,wi=!1,ct,a,bi,ni,ki,tt,rt,ut,nu,di,gi,ti,ft,ii,it,nr,lt,tr,ri,et,tu,ir,iu,rr,ru,at=null,ur=null,vt,fr,ot,ui,fi,s,yt=!1,er=!1,uu,fu,eu,ei=0,pt=null,oi,wt=[],bt,p=null,ou,si,kt,d,hi,or,su,h,wu=Array.prototype.slice,y=!1,sr,g,hr,hu,k,ci,cu=0,cr,lr=l.match(/(ipad|iphone|ipod)/i),ar=l.match(/android/i),nt=l.match(/(msie|trident)/i),bu=l.match(/webkit/i),li=l.match(/safari/i)&&!l.match(/chrome/i),vr=l.match(/opera/i),ai=l.match(/(mobile|pre\/|xoom)/i)||lr||ar,lu=!dr.match(/usehtml5audio/i)&&!dr.match(/sm2\-ignorebadua/i)&&li&&!l.match(/silk/i)&&l.match(/OS X 10_6_([3-7])/i),yr=o.hasFocus!==t?o.hasFocus():null,vi=li&&(o.hasFocus===t||!o.hasFocus()),au=!vi,vu=/(mp3|mp4|mpa|m4a|m4b)/i,pr=o.location?o.location.protocol.match(/http/i):null,ku=pr?"":"http://",yu=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,pu="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),du=new RegExp("\\.("+pu.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!pr;try{wr=Audio!==t&&(vr&&opera!==t&&10>opera.version()?new Audio(null):new Audio).canPlayType!==t}catch(gu){wr=!1}this.hasHTML5=wr;this.setup=function(n){var i=!u.url;return n!==t&&v&&p&&u.ok(),bi(n),y||(ai?(!u.setupOptions.ignoreMobileRestrictions||u.setupOptions.forceUseGlobalHTML5Audio)&&(wt.push(ft.globalHTML5),y=!0):u.setupOptions.forceUseGlobalHTML5Audio&&(wt.push(ft.globalHTML5),y=!0)),!cr&&ai&&(u.setupOptions.ignoreMobileRestrictions?wt.push(ft.ignoreMobile):(u.setupOptions.useHTML5Audio=!0,u.setupOptions.preferFlash=!1,lr)?u.ignoreFlash=!0:(!ar||l.match(/android\s2\.3/i))&&ar||(y=!0)),n&&(i&&lt&&n.url!==t&&u.beginDelayedInit(),lt||n.url===t||"complete"!==o.readyState||setTimeout(it,1)),cr=!0,u};this.supported=this.ok=function(){return p?v&&!b:u.useHTML5Audio&&u.hasHTML5};this.getMovie=function(t){return gt(t)||o[t]||n[t]};this.createSound=function(n,i){function h(){return r=ui(r),u.sounds[r.id]=new br(r),u.soundIDs.push(r.id),u.sounds[r.id]}var r,o=null;if(!v||!u.ok())return!1;if(i!==t&&(n={id:n,url:i}),r=a(n),r.url=oi(r.url),r.id===t&&(r.id=u.setupOptions.idPrefix+cu++),s(r.id,!0))return u.sounds[r.id];if(si(r))o=h(),o._setup_html5(r);else{if(u.html5Only||u.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return h();8<e&&null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||r.type&&r.type.match(yu)||r.url&&r.url.match(du)));r=fi(r,void 0);o=h();8===e?f._createSound(r.id,r.loops||1,r.usePolicyFile):(f._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,r.isMovieStar?r.bufferTime:!1,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(o.connected=!0,r.onconnect&&r.onconnect.apply(o)));!r.serverURL&&(r.autoLoad||r.autoPlay)&&o.load(r)}return!r.serverURL&&r.autoPlay&&o.play(),o};this.destroySound=function(n,t){if(!s(n))return!1;var r=u.sounds[n],i;for(r.stop(),r._iO={},r.unload(),i=0;i<u.soundIDs.length;i++)if(u.soundIDs[i]===n){u.soundIDs.splice(i,1);break}return t||r.destruct(!0),delete u.sounds[n],!0};this.load=function(n,t){return s(n)?u.sounds[n].load(t):!1};this.unload=function(n){return s(n)?u.sounds[n].unload():!1};this.onposition=this.onPosition=function(n,t,i,r){return s(n)?u.sounds[n].onposition(t,i,r):!1};this.clearOnPosition=function(n,t,i){return s(n)?u.sounds[n].clearOnPosition(t,i):!1};this.start=this.play=function(n,t){var i=null,r=t&&!(t instanceof Object);if(!v||!u.ok())return!1;if(s(n,r))r&&(t={url:t});else{if(!r)return!1;r&&(t={url:t});t&&t.url&&(t.id=n,i=u.createSound(t).play())}return null===i&&(i=u.sounds[n].play(t)),i};this.setPosition=function(n,t){return s(n)?u.sounds[n].setPosition(t):!1};this.stop=function(n){return s(n)?u.sounds[n].stop():!1};this.stopAll=function(){for(var n in u.sounds)u.sounds.hasOwnProperty(n)&&u.sounds[n].stop()};this.pause=function(n){return s(n)?u.sounds[n].pause():!1};this.pauseAll=function(){for(var n=u.soundIDs.length-1;0<=n;n--)u.sounds[u.soundIDs[n]].pause()};this.resume=function(n){return s(n)?u.sounds[n].resume():!1};this.resumeAll=function(){for(var n=u.soundIDs.length-1;0<=n;n--)u.sounds[u.soundIDs[n]].resume()};this.togglePause=function(n){return s(n)?u.sounds[n].togglePause():!1};this.setPan=function(n,t){return s(n)?u.sounds[n].setPan(t):!1};this.setVolume=function(n,i){var r,f;if(n===t||isNaN(n)||i!==t)return s(n)?u.sounds[n].setVolume(i):!1;for(r=0,f=u.soundIDs.length;r<f;r++)u.sounds[u.soundIDs[r]].setVolume(n)};this.mute=function(n){var t=0;if(n instanceof String&&(n=null),n)return s(n)?u.sounds[n].mute():!1;for(t=u.soundIDs.length-1;0<=t;t--)u.sounds[u.soundIDs[t]].mute();return u.muted=!0};this.muteAll=function(){u.mute()};this.unmute=function(n){if(n instanceof String&&(n=null),n)return s(n)?u.sounds[n].unmute():!1;for(n=u.soundIDs.length-1;0<=n;n--)u.sounds[u.soundIDs[n]].unmute();return u.muted=!1,!0};this.unmuteAll=function(){u.unmute()};this.toggleMute=function(n){return s(n)?u.sounds[n].toggleMute():!1};this.getMemoryUse=function(){var n=0;return f&&8!==e&&(n=parseInt(f._getMemoryUse(),10)),n};this.disable=function(i){var r;if(i===t&&(i=!1),b)return!1;for(b=!0,r=u.soundIDs.length-1;0<=r;r--)iu(u.sounds[u.soundIDs[r]]);return ct(i),h.remove(n,"load",rt),!0};this.canPlayMIME=function(n){var t;return u.hasHTML5&&(t=kt({type:n})),!t&&p&&(t=n&&u.ok()?!!(8<e&&n.match(yu)||n.match(u.mimePattern)):null),t};this.canPlayURL=function(n){var t;return u.hasHTML5&&(t=kt({url:n})),!t&&p&&(t=n&&u.ok()?!!n.match(u.filePattern):null),t};this.canPlayLink=function(n){return n.type!==t&&n.type&&u.canPlayMIME(n.type)?!0:u.canPlayURL(n.href)};this.getSoundById=function(n){return n?u.sounds[n]:null};this.onready=function(t,i){if("function"==typeof t)i||(i=n),ki("onready",t,i),tt();else throw vt("needFunction","onready");return!0};this.ontimeout=function(t,i){if("function"==typeof t)i||(i=n),ki("ontimeout",t,i),tt({type:"ontimeout"});else throw vt("needFunction","ontimeout");return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(t,i){for(var e,o,r=u.soundIDs.length-1;0<=r;r--)u.sounds[u.soundIDs[r]].destruct();if(f)try{nt&&(ur=f.innerHTML);at=f.parentNode.removeChild(f)}catch(s){}if(ur=at=p=f=null,u.enabled=lt=v=yt=er=st=ht=b=y=u.swfLoaded=!1,u.soundIDs=[],u.sounds={},cu=0,cr=!1,t)w=[];else for(r in w)if(w.hasOwnProperty(r))for(e=0,o=w[r].length;e<o;e++)w[r][e].fired=!1;return u.html5={usingFlash:null},u.flash={},u.html5Only=!1,u.ignoreFlash=!1,n.setTimeout(function(){i||u.beginDelayedInit()},20),u};this.reset=function(){return u.reboot(!0,!0)};this.getMoviePercent=function(){return f&&"PercentLoaded"in f?f.PercentLoaded():null};this.beginDelayedInit=function(){wi=!0;it();setTimeout(function(){return er?!1:(ri(),ii(),er=!0)},20);ut()};this.destruct=function(){u.disable(!0)};br=function(n){var b,d,i=this,v,tt,it,c,p,rt,w=!1,r=[],l=0,g,ut,o=null,nt;d=b=null;this.sID=this.id=n.id;this.url=n.url;this._iO=this.instanceOptions=this.options=a(n);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;nt=this.url?!1:!0;this.id3={};this._debug=function(){};this.load=function(n){var s=null,r;if(n!==t?i._iO=a(n,i.options):(n=i.options,i._iO=n,o&&o!==i.url&&(i._iO.url=i.url,i.url=null)),i._iO.url||(i._iO.url=i.url),i._iO.url=oi(i._iO.url),r=i.instanceOptions=i._iO,!r.url&&!i.url)return i;if(r.url===i.url&&0!==i.readyState&&2!==i.readyState)return 3===i.readyState&&r.onload&&ci(i,function(){r.onload.apply(i,[!!i.duration])}),i;if(i.loaded=!1,i.readyState=1,i.playState=0,i.id3={},si(r))s=i._setup_html5(r),s._called_load||(i._html5_canplay=!1,i.url!==r.url&&(i._a.src=r.url,i.setPosition(0)),i._a.autobuffer="auto",i._a.preload="auto",i._a._called_load=!0);else{if(u.html5Only||i._iO.url&&i._iO.url.match(/data\:/i))return i;try{i.isHTML5=!1;i._iO=fi(ui(r));i._iO.autoPlay&&(i._iO.position||i._iO.from)&&(i._iO.autoPlay=!1);r=i._iO;8===e?f._load(i.id,r.url,r.stream,r.autoPlay,r.usePolicyFile):f._load(i.id,r.url,!!r.stream,!!r.autoPlay,r.loops||1,!!r.autoLoad,r.usePolicyFile)}catch(h){et({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return i.url=r.url,i};this.unload=function(){return 0!==i.readyState&&(i.isHTML5?(c(),i._a&&(i._a.pause(),o=hi(i._a))):8===e?f._unload(i.id,"about:blank"):f._unload(i.id),v()),i};this.destruct=function(n){i.isHTML5?(c(),i._a&&(i._a.pause(),hi(i._a),y||it(),i._a._s=null,i._a=null)):(i._iO.onfailure=null,f._destroySound(i.id));n||u.destroySound(i.id,!0)};this.start=this.play=function(n,r){var c,o,s,l,v;if(o=!0,o=null,r=r===t?!0:r,n||(n={}),i.url&&(i._iO.url=i.url),i._iO=a(i._iO,i.options),i._iO=a(n,i._iO),i._iO.url=oi(i._iO.url),i.instanceOptions=i._iO,!i.isHTML5&&i._iO.serverURL&&!i.connected)return i.getAutoPlay()||i.setAutoPlay(!0),i;if((si(i._iO)&&(i._setup_html5(i._iO),p()),1!==i.playState||i.paused||(c=i._iO.multiShot,c||(i.isHTML5&&i.setPosition(i._iO.position),o=i)),null!==o)||(n.url&&n.url!==i.url&&(i.readyState||i.isHTML5||8!==e||!nt?i.load(i._iO):nt=!1),i.loaded||(0===i.readyState?(i.isHTML5||u.html5Only?i.isHTML5?i.load(i._iO):o=i:(i._iO.autoPlay=!0,i.load(i._iO)),i.instanceOptions=i._iO):2===i.readyState&&(o=i)),null!==o))return o;if(!i.isHTML5&&9===e&&0<i.position&&i.position===i.duration&&(n.position=0),i.paused&&0<=i.position&&(!i._iO.serverURL||0<i.position))i.resume();else{if(i._iO=a(n,i._iO),(!i.isHTML5&&null!==i._iO.position&&0<i._iO.position||null!==i._iO.from&&0<i._iO.from||null!==i._iO.to)&&0===i.instanceCount&&0===i.playState&&!i._iO.serverURL){if(c=function(){i._iO=a(n,i._iO);i.play(i._iO)},i.isHTML5&&!i._html5_canplay?(i.load({_oncanplay:c}),o=!1):i.isHTML5||i.loaded||i.readyState&&2===i.readyState||(i.load({onload:c}),o=!1),null!==o)return o;i._iO=ut()}(!i.instanceCount||i._iO.multiShotEvents||i.isHTML5&&i._iO.multiShot&&!y||!i.isHTML5&&8<e&&!i.getAutoPlay())&&i.instanceCount++;i._iO.onposition&&0===i.playState&&rt(i);i.playState=1;i.paused=!1;i.position=i._iO.position===t||isNaN(i._iO.position)?0:i._iO.position;i.isHTML5||(i._iO=fi(ui(i._iO)));i._iO.onplay&&r&&(i._iO.onplay.apply(i),w=!0);i.setVolume(i._iO.volume,!0);i.setPan(i._iO.pan,!0);i.isHTML5?2>i.instanceCount?(p(),o=i._setup_html5(),i.setPosition(i._iO.position),o.play()):(s=new Audio(i._iO.url),l=function(){h.remove(s,"ended",l);i._onfinish(i);hi(s);s=null},v=function(){h.remove(s,"canplay",v);try{s.currentTime=i._iO.position/1e3}catch(n){}s.play()},h.add(s,"ended",l),i._iO.volume!==t&&(s.volume=Math.max(0,Math.min(1,i._iO.volume/100))),i.muted&&(s.muted=!0),i._iO.position?h.add(s,"canplay",v):s.play()):(o=f._start(i.id,i._iO.loops||1,9===e?i.position:i.position/1e3,i._iO.multiShot||!1),9!==e||o||i._iO.onplayerror&&i._iO.onplayerror.apply(i))}return i};this.stop=function(n){var t=i._iO;return 1===i.playState&&(i._onbufferchange(0),i._resetOnPosition(0),i.paused=!1,i.isHTML5||(i.playState=0),g(),t.to&&i.clearOnPosition(t.to),i.isHTML5?i._a&&(n=i.position,i.setPosition(0),i.position=n,i._a.pause(),i.playState=0,i._onTimer(),c()):(f._stop(i.id,n),t.serverURL&&i.unload()),i.instanceCount=0,i._iO={},t.onstop&&t.onstop.apply(i)),i};this.setAutoPlay=function(n){i._iO.autoPlay=n;i.isHTML5||(f._setAutoPlay(i.id,n),n&&(i.instanceCount||1!==i.readyState||i.instanceCount++))};this.getAutoPlay=function(){return i._iO.autoPlay};this.setPosition=function(n){n===t&&(n=0);var r=i.isHTML5?Math.max(n,0):Math.min(i.duration||i._iO.duration,Math.max(n,0));if(i.position=r,n=i.position/1e3,i._resetOnPosition(i.position),i._iO.position=r,i.isHTML5){if(i._a){if(i._html5_canplay){if(i._a.currentTime!==n)try{i._a.currentTime=n;(0===i.playState||i.paused)&&i._a.pause()}catch(u){}}else if(n)return i;i.paused&&i._onTimer(!0)}}else n=9===e?i.position:n,i.readyState&&2!==i.readyState&&f._setPosition(i.id,n,i.paused||!i.playState,i._iO.multiShot);return i};this.pause=function(n){return i.paused||0===i.playState&&1!==i.readyState?i:(i.paused=!0,i.isHTML5?(i._setup_html5().pause(),c()):(n||n===t)&&f._pause(i.id,i._iO.multiShot),i._iO.onpause&&i._iO.onpause.apply(i),i)};this.resume=function(){var n=i._iO;return i.paused?(i.paused=!1,i.playState=1,i.isHTML5?(i._setup_html5().play(),p()):(n.isMovieStar&&!n.serverURL&&i.setPosition(i.position),f._pause(i.id,n.multiShot)),!w&&n.onplay?(n.onplay.apply(i),w=!0):n.onresume&&n.onresume.apply(i),i):i};this.togglePause=function(){return 0===i.playState?(i.play({position:9!==e||i.isHTML5?i.position/1e3:i.position}),i):(i.paused?i.resume():i.pause(),i)};this.setPan=function(n,r){return n===t&&(n=0),r===t&&(r=!1),i.isHTML5||f._setPan(i.id,n),i._iO.pan=n,r||(i.pan=n,i.options.pan=n),i};this.setVolume=function(n,r){return n===t&&(n=100),r===t&&(r=!1),i.isHTML5?i._a&&(u.muted&&!i.muted&&(i.muted=!0,i._a.muted=!0),i._a.volume=Math.max(0,Math.min(1,n/100))):f._setVolume(i.id,u.muted&&!i.muted||i.muted?0:n),i._iO.volume=n,r||(i.volume=n,i.options.volume=n),i};this.mute=function(){return i.muted=!0,i.isHTML5?i._a&&(i._a.muted=!0):f._setVolume(i.id,0),i};this.unmute=function(){i.muted=!1;var n=i._iO.volume!==t;return i.isHTML5?i._a&&(i._a.muted=!1):f._setVolume(i.id,n?i._iO.volume:i.options.volume),i};this.toggleMute=function(){return i.muted?i.unmute():i.mute()};this.onposition=this.onPosition=function(n,u,f){return r.push({position:parseInt(n,10),method:u,scope:f!==t?f:i,fired:!1}),i};this.clearOnPosition=function(n,t){var i;if(n=parseInt(n,10),isNaN(n))return!1;for(i=0;i<r.length;i++)n!==r[i].position||t&&t!==r[i].method||(r[i].fired&&l--,r.splice(i,1))};this._processOnPosition=function(){var n,t;if(n=r.length,!n||!i.playState||l>=n)return!1;for(--n;0<=n;n--)t=r[n],!t.fired&&i.position>=t.position&&(t.fired=!0,l++,t.method.apply(t.scope,[t.position]));return!0};this._resetOnPosition=function(n){var t,i;if(t=r.length,!t)return!1;for(--t;0<=t;t--)i=r[t],i.fired&&n<=i.position&&(i.fired=!1,l--);return!0};ut=function(){var n=i._iO,r=n.from,t=n.to,f,u;return u=function(){i.clearOnPosition(t,u);i.stop()},f=function(){if(null!==t&&!isNaN(t))i.onPosition(t,u)},null===r||isNaN(r)||(n.position=r,n.multiShot=!1,f()),n};rt=function(){var n,t=i._iO.onposition;if(t)for(n in t)if(t.hasOwnProperty(n))i.onPosition(parseInt(n,10),t[n])};g=function(){var n,t=i._iO.onposition;if(t)for(n in t)t.hasOwnProperty(n)&&i.clearOnPosition(parseInt(n,10))};p=function(){i.isHTML5&&uu(i)};c=function(){i.isHTML5&&fu(i)};v=function(n){n||(r=[],l=0);w=!1;i._hasTimer=null;i._a=null;i._html5_canplay=!1;i.bytesLoaded=null;i.bytesTotal=null;i.duration=i._iO&&i._iO.duration?i._iO.duration:null;i.durationEstimate=null;i.buffered=[];i.eqData=[];i.eqData.left=[];i.eqData.right=[];i.failures=0;i.isBuffering=!1;i.instanceOptions={};i.instanceCount=0;i.loaded=!1;i.metadata={};i.readyState=0;i.muted=!1;i.paused=!1;i.peakData={left:0,right:0};i.waveformData={left:[],right:[]};i.playState=0;i.position=null;i.id3={}};v();this._onTimer=function(n){var t,r=!1,u={};if(i._hasTimer||n)return i._a&&(n||(0<i.playState||1===i.readyState)&&!i.paused)&&(t=i._get_html5_duration(),t!==b&&(b=t,i.duration=t,r=!0),i.durationEstimate=i.duration,t=1e3*i._a.currentTime||0,t!==d&&(d=t,r=!0),(r||n)&&i._whileplaying(t,u,u,u,u)),r};this._get_html5_duration=function(){var n=i._iO;return(n=i._a&&i._a.duration?1e3*i._a.duration:n&&n.duration?n.duration:null)&&!isNaN(n)&&Infinity!==n?n:null};this._apply_loop=function(n,t){n.loop=1<t?"loop":""};this._setup_html5=function(n){n=a(i._iO,n);var t=y?kr:i._a,u=decodeURI(n.url),r;if(y?u===decodeURI(sr)&&(r=!0):u===decodeURI(o)&&(r=!0),t){if(t._s)if(y)t._s&&t._s.playState&&!r&&t._s.stop();else if(!y&&u===decodeURI(o))return i._apply_loop(t,n.loops),t;r||(o&&v(!1),t.src=n.url,sr=o=i.url=n.url,t._called_load=!1)}else n.autoLoad||n.autoPlay?(i._a=new Audio(n.url),i._a.load()):i._a=vr&&10>opera.version()?new Audio(null):new Audio,t=i._a,t._called_load=!1,y&&(kr=t);return i.isHTML5=!0,i._a=t,t._s=i,tt(),i._apply_loop(t,n.loops),n.autoLoad||n.autoPlay?i.load():(t.autobuffer=!1,t.preload="auto"),t};tt=function(){if(i._a._added_events)return!1;var n;i._a._added_events=!0;for(n in k)k.hasOwnProperty(n)&&i._a&&i._a.addEventListener(n,k[n],!1);return!0};it=function(){var n;i._a._added_events=!1;for(n in k)k.hasOwnProperty(n)&&i._a&&i._a.removeEventListener(n,k[n],!1)};this._onload=function(n){var t=!!n||!i.isHTML5&&8===e&&i.duration;return i.loaded=t,i.readyState=t?3:2,i._onbufferchange(0),i._iO.onload&&ci(i,function(){i._iO.onload.apply(i,[t])}),!0};this._onbufferchange=function(n){return 0===i.playState||n&&i.isBuffering||!n&&!i.isBuffering?!1:(i.isBuffering=1===n,i._iO.onbufferchange&&i._iO.onbufferchange.apply(i,[n]),!0)};this._onsuspend=function(){return i._iO.onsuspend&&i._iO.onsuspend.apply(i),!0};this._onfailure=function(n,t,r){if(i.failures++,i._iO.onfailure&&1===i.failures)i._iO.onfailure(n,t,r)};this._onwarning=function(n,t,r){if(i._iO.onwarning)i._iO.onwarning(n,t,r)};this._onfinish=function(){var n=i._iO.onfinish;i._onbufferchange(0);i._resetOnPosition(0);i.instanceCount&&(i.instanceCount--,i.instanceCount||(g(),i.playState=0,i.paused=!1,i.instanceCount=0,i.instanceOptions={},i._iO={},c(),i.isHTML5&&(i.position=0)),(!i.instanceCount||i._iO.multiShotEvents)&&n&&ci(i,function(){n.apply(i)}))};this._whileloading=function(n,t,r,u){var f=i._iO;i.bytesLoaded=n;i.bytesTotal=t;i.duration=Math.floor(r);i.bufferLength=u;i.durationEstimate=i.isHTML5||f.isMovieStar?i.duration:f.duration?i.duration>f.duration?i.duration:f.duration:parseInt(i.bytesTotal/i.bytesLoaded*i.duration,10);i.isHTML5||(i.buffered=[{start:0,end:i.duration}]);(3!==i.readyState||i.isHTML5)&&f.whileloading&&f.whileloading.apply(i)};this._whileplaying=function(n,r,u,f,o){var s=i._iO;return isNaN(n)||null===n?!1:(i.position=Math.max(0,n),i._processOnPosition(),!i.isHTML5&&8<e&&(s.usePeakData&&r!==t&&r&&(i.peakData={left:r.leftPeak,right:r.rightPeak}),s.useWaveformData&&u!==t&&u&&(i.waveformData={left:u.split(","),right:f.split(",")}),s.useEQData&&o!==t&&o&&o.leftEQ&&(n=o.leftEQ.split(","),i.eqData=n,i.eqData.left=n,o.rightEQ!==t&&o.rightEQ&&(i.eqData.right=o.rightEQ.split(",")))),1===i.playState&&(i.isHTML5||8!==e||i.position||!i.isBuffering||i._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(i)),!0)};this._oncaptiondata=function(n){i.captiondata=n;i._iO.oncaptiondata&&i._iO.oncaptiondata.apply(i,[n])};this._onmetadata=function(n,t){for(var u={},r=0,f=n.length;r<f;r++)u[n[r]]=t[r];i.metadata=u;i._iO.onmetadata&&i._iO.onmetadata.call(i,i.metadata)};this._onid3=function(n,t){for(var u=[],r=0,f=n.length;r<f;r++)u[n[r]]=t[r];i.id3=a(i.id3,u);i._iO.onid3&&i._iO.onid3.apply(i)};this._onconnect=function(n){n=1===n;(i.connected=n)&&(i.failures=0,s(i.id)&&(i.getAutoPlay()?i.play(t,i.getAutoPlay()):i._iO.autoLoad&&i.load()),i._iO.onconnect&&i._iO.onconnect.apply(i,[n]))};this._ondataerror=function(){0<i.playState&&i._iO.ondataerror&&i._iO.ondataerror.apply(i)}};tr=function(){return o.body||o.getElementsByTagName("div")[0]};gt=function(n){return o.getElementById(n)};a=function(n,i){var e=n||{},f,r;f=i===t?u.defaultOptions:i;for(r in f)f.hasOwnProperty(r)&&e[r]===t&&(e[r]="object"!=typeof f[r]||null===f[r]?f[r]:a(e[r],f[r]));return e};ci=function(t,i){t.isHTML5||8!==e?i():n.setTimeout(i,0)};ni={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};bi=function(n,i){var r,f=!0,e=i!==t,o=u.setupOptions;for(r in n)if(n.hasOwnProperty(r))if("object"!=typeof n[r]||null===n[r]||n[r]instanceof Array||n[r]instanceof RegExp)e&&ni[i]!==t?u[i][r]=n[r]:o[r]!==t?(u.setupOptions[r]=n[r],u[r]=n[r]):ni[r]===t?f=!1:u[r]instanceof Function?u[r].apply(u,n[r]instanceof Array?n[r]:[n[r]]):u[r]=n[r];else if(ni[r]===t)f=!1;else return bi(n[r],r);return f};h=function(){function i(n){n=wu.call(n);var i=n.length;return t?(n[1]="on"+n[1],3<i&&n.pop()):3===i&&n.push(!1),n}function r(n,i){var r=n.shift(),f=[u[i]];t?r[f](n[0],n[1]):r[f].apply(r,n)}var t=n.attachEvent,u={add:t?"attachEvent":"addEventListener",remove:t?"detachEvent":"removeEventListener"};return{add:function(){r(i(arguments),"add")},remove:function(){r(i(arguments),"remove")}}}();k={abort:c(function(){}),canplay:c(function(){var n=this._s,i;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,n._onbufferchange(0),i=n._iO.position===t||isNaN(n._iO.position)?null:n._iO.position/1e3,this.currentTime!==i)try{this.currentTime=i}catch(r){}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:c(function(){var n=this._s;n.loaded||(n._onbufferchange(0),n._whileloading(n.bytesLoaded,n.bytesTotal,n._get_html5_duration()),n._onload(!0))}),durationchange:c(function(){var n=this._s,t;t=n._get_html5_duration();isNaN(t)||t===n.duration||(n.durationEstimate=n.duration=t)}),ended:c(function(){this._s._onfinish()}),error:c(function(){this._s._onload(!1)}),loadeddata:c(function(){var n=this._s;n._loaded||li||(n.duration=n._get_html5_duration())}),loadedmetadata:c(function(){}),loadstart:c(function(){this._s._onbufferchange(1)}),play:c(function(){this._s._onbufferchange(0)}),playing:c(function(){this._s._onbufferchange(0)}),progress:c(function(n){var r=this._s,t,f,i=0,i=n.target.buffered,u;if(t=n.loaded||0,u=n.total||1,r.buffered=[],i&&i.length){for(t=0,f=i.length;t<f;t++)r.buffered.push({start:1e3*i.start(t),end:1e3*i.end(t)});i=1e3*(i.end(0)-i.start(0));t=Math.min(1,i/(1e3*n.target.duration))}isNaN(t)||(r._whileloading(t,u,r._get_html5_duration()),t&&u&&t===u&&k.canplaythrough.call(this,n))}),ratechange:c(function(){}),suspend:c(function(n){var t=this._s;k.progress.call(this,n);t._onsuspend()}),stalled:c(function(){}),timeupdate:c(function(){this._s._onTimer()}),waiting:c(function(){this._s._onbufferchange(1)})};si=function(n){return n&&(n.type||n.url||n.serverURL)?n.serverURL||n.type&&dt(n.type)?!1:n.type?kt({type:n.type}):kt({url:n.url})||u.html5Only||n.url.match(/data\:/i):!1};hi=function(n){var i;return n&&(i=li?"about:blank":u.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",n.src=i,n._called_unload!==t&&(n._called_load=!1)),y&&(sr=null),i};kt=function(n){var r,f,i;if(!u.useHTML5Audio||!u.hasHTML5)return!1;if(r=n.url||null,n=n.type||null,f=u.audioFormats,n&&u.html5[n]!==t)return u.html5[n]&&!dt(n);if(!d){d=[];for(i in f)f.hasOwnProperty(i)&&(d.push(i),f[i].related&&(d=d.concat(f[i].related)));d=new RegExp("\\.("+d.join("|")+")(\\?.*)?$","i")}return(i=r?r.toLowerCase().match(d):null)&&i.length?i=i[1]:n&&(r=n.indexOf(";"),i=(-1!==r?n.substr(0,r):n).substr(6)),i&&u.html5[i]!==t?r=u.html5[i]&&!dt(i):(n="audio/"+i,r=u.html5.canPlayType({type:n}),r=(u.html5[i]=r)&&u.html5[n]&&!dt(n)),r};su=function(){function s(n){var t,r=t=!1;if(!e||"function"!=typeof e.canPlayType)return t;if(n instanceof Array){for(i=0,t=n.length;i<t;i++)(u.html5[n[i]]||e.canPlayType(n[i]).match(u.html5Test))&&(r=!0,u.html5[n[i]]=!0,u.flash[n[i]]=!!n[i].match(vu));t=r}else n=e&&"function"==typeof e.canPlayType?e.canPlayType(n):!1,t=!(!n||!n.match(u.html5Test));return t}if(!u.useHTML5Audio||!u.hasHTML5)return p=u.html5.usingFlash=!0,!1;var e=Audio!==t?vr&&10>opera.version()?new Audio(null):new Audio:null,n,o,f={},r,i;r=u.audioFormats;for(n in r)if(r.hasOwnProperty(n)&&(o="audio/"+n,f[n]=s(r[n].type),f[o]=f[n],n.match(vu)?(u.flash[n]=!0,u.flash[o]=!0):(u.flash[n]=!1,u.flash[o]=!1),r[n]&&r[n].related))for(i=r[n].related.length-1;0<=i;i--)f["audio/"+r[n].related[i]]=f[n],u.html5[r[n].related[i]]=f[n],u.flash[r[n].related[i]]=f[n];return f.canPlayType=e?s:null,u.html5=a(u.html5,f),u.html5.usingFlash=ou(),p=u.html5.usingFlash,!0};ft={};vt=function(){};ui=function(n){return 8===e&&1<n.loops&&n.stream&&(n.stream=!1),n};fi=function(n){return n&&!n.usePolicyFile&&(n.onid3||n.usePeakData||n.useWaveformData||n.useEQData)&&(n.usePolicyFile=!0),n};yi=function(){return!1};iu=function(n){for(var t in n)n.hasOwnProperty(t)&&"function"==typeof n[t]&&(n[t]=yi)};rr=function(n){n===t&&(n=!1);(b||n)&&u.disable(n)};ru=function(n){var t=null;if(n)if(n.match(/\.swf(\?.*)?$/i)){if(t=n.substr(n.toLowerCase().lastIndexOf(".swf?")+4))return n}else n.lastIndexOf("/")!==n.length-1&&(n+="/");return n=(n&&-1!==n.lastIndexOf("/")?n.substr(0,n.lastIndexOf("/")+1):"./")+u.movieURL,u.noSWFCache&&(n+="?ts="+(new Date).getTime()),n};gi=function(){e=parseInt(u.flashVersion,10);8!==e&&9!==e&&(u.flashVersion=e=8);var n=u.debugMode||u.debugFlash?"_debug.swf":".swf";u.useHTML5Audio&&!u.html5Only&&u.audioFormats.mp4.required&&9>e&&(u.flashVersion=e=9);u.version=u.versionNumber+(u.html5Only?" (HTML5-only mode)":9===e?" (AS3/Flash 9)":" (AS2/Flash 8)");8<e?(u.defaultOptions=a(u.defaultOptions,u.flash9Options),u.features.buffering=!0,u.defaultOptions=a(u.defaultOptions,u.movieStarOptions),u.filePatterns.flash9=new RegExp("\\.(mp3|"+pu.join("|")+")(\\?.*)?$","i"),u.features.movieStar=!0):u.features.movieStar=!1;u.filePattern=u.filePatterns[8!==e?"flash9":"flash8"];u.movieURL=(8===e?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",n);u.features.peakData=u.features.waveformData=u.features.eqData=8<e};tu=function(n,t){if(!f)return!1;f._setPolling(n,t)};ir=function(){};s=this.getSoundById;ot=function(){var n=[];return u.debugMode&&n.push("sm2_debug"),u.debugFlash&&n.push("flash_debug"),u.useHighPerformance&&n.push("high_performance"),n.join(" ")};fr=function(){vt("fbHandler");var t=u.getMoviePercent(),n={type:"FLASHBLOCK"};if(u.html5Only)return!1;u.ok()?u.oMC&&(u.oMC.className=[ot(),"movieContainer","swf_loaded"+(u.didFlashBlock?" swf_unblocked":"")].join(" ")):(p&&(u.oMC.className=ot()+" movieContainer "+(null===t?"swf_timedout":"swf_error")),u.didFlashBlock=!0,tt({type:"ontimeout",ignoreInit:!0,error:n}),et(n))};ki=function(n,i,r){w[n]===t&&(w[n]=[]);w[n].push({method:i,scope:r||null,fired:!1})};tt=function(n){if(n||(n={type:u.ok()?"onready":"ontimeout"}),!v&&n&&!n.ignoreInit||"ontimeout"===n.type&&(u.ok()||b&&!n.ignoreInit))return!1;var i={success:n&&n.ignoreInit?u.ok():!b},f=n&&n.type?w[n.type]||[]:[],t=[],r,i=[i],e=p&&!u.ok();for(n.error&&(i[0].error=n.error),n=0,r=f.length;n<r;n++)!0!==f[n].fired&&t.push(f[n]);if(t.length)for(n=0,r=t.length;n<r;n++)t[n].scope?t[n].method.apply(t[n].scope,i):t[n].method.apply(this,i),e||(t[n].fired=!0);return!0};rt=function(){n.setTimeout(function(){u.useFlashBlock&&fr();tt();"function"==typeof u.onload&&u.onload.apply(n);u.waitForWindowLoad&&h.add(n,"load",rt)},1)};hr=function(){if(g!==t)return g;var r=!1,i=navigator,f=i.plugins,u,e=n.ActiveXObject;if(f&&f.length)(i=i.mimeTypes)&&i["application/x-shockwave-flash"]&&i["application/x-shockwave-flash"].enabledPlugin&&i["application/x-shockwave-flash"].enabledPlugin.description&&(r=!0);else if(e!==t&&!l.match(/MSAppHost/i)){try{u=new e("ShockwaveFlash.ShockwaveFlash")}catch(o){u=null}r=!!u}return g=r};ou=function(){var i,n,t=u.audioFormats;if(lr&&l.match(/os (1|2|3_0|3_1)\s/i)?(u.hasHTML5=!1,u.html5Only=!0,u.oMC&&(u.oMC.style.display="none")):!u.useHTML5Audio||u.html5&&u.html5.canPlayType||(u.hasHTML5=!1),u.useHTML5Audio&&u.hasHTML5)for(n in bt=!0,t)t.hasOwnProperty(n)&&t[n].required&&(u.html5.canPlayType(t[n].type)?u.preferFlash&&(u.flash[n]||u.flash[t[n].type])&&(i=!0):(bt=!1,i=!0));return u.ignoreFlash&&(i=!1,bt=!0),u.html5Only=u.hasHTML5&&u.useHTML5Audio&&!i,!u.html5Only};oi=function(n){var t,r,i=0;if(n instanceof Array){for(t=0,r=n.length;t<r;t++)if(n[t]instanceof Object){if(u.canPlayMIME(n[t].type)){i=t;break}}else if(u.canPlayURL(n[t])){i=t;break}n[i].url&&(n[i]=n[i].url);n=n[i]}return n};uu=function(n){n._hasTimer||(n._hasTimer=!0,!ai&&u.html5PollingInterval&&(null===pt&&0===ei&&(pt=setInterval(eu,u.html5PollingInterval)),ei++))};fu=function(n){n._hasTimer&&(n._hasTimer=!1,!ai&&u.html5PollingInterval&&ei--)};eu=function(){var n;if(null!==pt&&!ei)return clearInterval(pt),pt=null,!1;for(n=u.soundIDs.length-1;0<=n;n--)u.sounds[u.soundIDs[n]].isHTML5&&u.sounds[u.soundIDs[n]]._hasTimer&&u.sounds[u.soundIDs[n]]._onTimer()};et=function(i){i=i!==t?i:{};"function"==typeof u.onerror&&u.onerror.apply(n,[{type:i.type!==t?i.type:null}]);i.fatal!==t&&i.fatal&&u.disable()};hu=function(){if(!lu||!hr())return!1;var t=u.audioFormats,i;for(var n in t)if(t.hasOwnProperty(n)&&("mp3"===n||"mp4"===n)&&(u.html5[n]=!1,t[n]&&t[n].related))for(i=t[n].related.length-1;0<=i;i--)u.html5[t[n].related[i]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(u.swfLoaded)return!1;u.swfLoaded=!0;vi=!1;lu&&hu();setTimeout(pi,nt?100:1)};ri=function(n,i){function s(n,t){return'<param name="'+n+'" value="'+t+'" />'}if(st&&ht)return!1;if(u.html5Only)return gi(),u.oMC=gt(u.movieID),pi(),ht=st=!0,!1;var h=i||u.url,y=u.altURL||h,r=tr(),f=ot(),a=null,a=o.getElementsByTagName("html")[0],e,v,c,a=a&&a.dir&&a.dir.match(/rtl/i);if(n=n===t?u.id:n,gi(),u.url=ru(pr?h:y),i=u.url,u.wmode=!u.wmode&&u.useHighPerformance?"transparent":u.wmode,null!==u.wmode&&(l.match(/msie 8/i)||!nt&&!u.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(wt.push(ft.spcWmode),u.wmode=null),r={name:n,id:n,src:i,quality:"high",allowScriptAccess:u.allowScriptAccess,bgcolor:u.bgColor,pluginspage:ku+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:u.wmode,hasPriority:"true"},u.debugFlash&&(r.FlashVars="debug=1"),u.wmode||delete r.wmode,nt)h=o.createElement("div"),v=['<object id="'+n+'" data="'+i+'" type="'+r.type+'" title="'+r.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',s("movie",i),s("AllowScriptAccess",u.allowScriptAccess),s("quality",r.quality),u.wmode?s("wmode",u.wmode):"",s("bgcolor",u.bgColor),s("hasPriority","true"),u.debugFlash?s("FlashVars",r.FlashVars):"","<\/object>"].join("");else for(e in h=o.createElement("embed"),r)r.hasOwnProperty(e)&&h.setAttribute(e,r[e]);if(ir(),f=ot(),r=tr())if(u.oMC=gt(u.movieID)||o.createElement("div"),u.oMC.id)c=u.oMC.className,u.oMC.className=(c?c+" ":"movieContainer")+(f?" "+f:""),u.oMC.appendChild(h),nt&&(e=u.oMC.appendChild(o.createElement("div")),e.className="sm2-object-box",e.innerHTML=v),ht=!0;else{if(u.oMC.id=u.movieID,u.oMC.className="movieContainer "+f,e=f=null,u.useFlashBlock||(u.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},a&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),bu&&(u.oMC.style.zIndex=1e4),!u.debugFlash)for(c in f)f.hasOwnProperty(c)&&(u.oMC.style[c]=f[c]);try{nt||u.oMC.appendChild(h);r.appendChild(u.oMC);nt&&(e=u.oMC.appendChild(o.createElement("div")),e.className="sm2-object-box",e.innerHTML=v);ht=!0}catch(p){throw Error(vt("domError")+" \n"+p.toString());}}return st=!0};ii=function(){return u.html5Only?(ri(),!1):f||!u.url?!1:(f=u.getMovie(u.id),f||(at?(nt?u.oMC.innerHTML=ur:u.oMC.appendChild(at),at=null,st=!0):ri(u.id,u.url),f=u.getMovie(u.id)),"function"==typeof u.oninitmovie&&setTimeout(u.oninitmovie,1),!0)};ut=function(){setTimeout(nu,1e3)};di=function(){n.setTimeout(function(){u.setup({preferFlash:!1}).reboot();u.didFlashBlock=!0;u.beginDelayedInit()},1)};nu=function(){var t,i=!1;if(!u.url||yt||(yt=!0,h.remove(n,"load",ut),g&&vi&&!yr))return!1;v||(t=u.getMoviePercent(),0<t&&100>t&&(i=!0));setTimeout(function(){if(t=u.getMoviePercent(),i)return yt=!1,n.setTimeout(ut,1),!1;!v&&au&&(null===t?u.useFlashBlock||0===u.flashLoadTimeout?u.useFlashBlock&&fr():!u.useFlashBlock&&bt?di():tt({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==u.flashLoadTimeout&&(!u.useFlashBlock&&bt?di():rr(!0)))},u.flashLoadTimeout)};ti=function(){return yr||!vi?(h.remove(n,"focus",ti),!0):(yr=au=!0,yt=!1,ut(),h.remove(n,"focus",ti),!0)};ct=function(t){if(v)return!1;if(u.html5Only)return v=!0,rt(),!0;var r=!0,i;return u.useFlashBlock&&u.flashLoadTimeout&&!u.getMoviePercent()||(v=!0),i={type:!g&&p?"NO_FLASH":"INIT_TIMEOUT"},(b||t)&&(u.useFlashBlock&&u.oMC&&(u.oMC.className=ot()+" "+(null===u.getMoviePercent()?"swf_timedout":"swf_error")),tt({type:"ontimeout",error:i,ignoreInit:!0}),et(i),r=!1),b||(u.waitForWindowLoad&&!wi?h.add(n,"load",rt):rt()),r};gr=function(){var n,i=u.setupOptions;for(n in i)i.hasOwnProperty(n)&&(u[n]===t?u[n]=i[n]:u[n]!==i[n]&&(u.setupOptions[n]=u[n]))};pi=function(){if(v)return!1;if(u.html5Only)return v||(h.remove(n,"load",u.beginDelayedInit),u.enabled=!0,ct()),!0;ii();try{f._externalInterfaceTest(!1);tu(!0,u.flashPollingInterval||(u.useHighPerformance?10:50));u.debugMode||f._disableDebug();u.enabled=!0;u.html5Only||h.add(n,"unload",yi)}catch(t){return et({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),rr(!0),ct(),!1}return ct(),h.remove(n,"load",u.beginDelayedInit),!0};it=function(){return lt?!1:(lt=!0,gr(),ir(),!g&&u.hasHTML5&&u.setup({useHTML5Audio:!0,preferFlash:!1}),su(),!g&&p&&(wt.push(ft.needFlash),u.setup({flashLoadTimeout:1})),o.removeEventListener&&o.removeEventListener("DOMContentLoaded",it,!1),ii(),!0)};or=function(){return"complete"===o.readyState&&(it(),o.detachEvent("onreadystatechange",or)),!0};nr=function(){wi=!0;it();h.remove(n,"load",nr)};hr();h.add(n,"focus",ti);h.add(n,"load",ut);h.add(n,"load",nr);o.addEventListener?o.addEventListener("DOMContentLoaded",it,!1):o.attachEvent?o.attachEvent("onreadystatechange",or):et({type:"NO_DOM2_EVENTS",fatal:!0})}if(!n||!n.document)throw Error("SoundManager requires a browser with window and document objects.");var r=null;n.SM2_DEFER!==t&&SM2_DEFER||(r=new i);"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=i,module.exports.soundManager=r):"function"==typeof define&&define.amd&&define(function(){return{constructor:i,getInstance:function(t){return!n.soundManager&&t instanceof Function&&(t=t(i),t instanceof i&&(n.soundManager=t)),n.soundManager}}});n.SoundManager=i;n.soundManager=r})(window),function(n){var t=function(){function n(){}return n.E_NOTIMPL=2147500033,n}();n.__HResults=t}(System||(System={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t=function(n){function t(t){n.call(this,t);this.helpLink=""}return __extends(t,n),Object.defineProperty(t.prototype,"helpLink",{get:function(){return this._helpLink},set:function(n){n&&(this._helpLink=n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hResult",{get:function(){return this._hResult},enumerable:!0,configurable:!0}),t.prototype.setErrorCode=function(n){this._hResult=n},t}(Error);n.Exception=t}(System||(System={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t=function(t){function i(r){t.call(this,r?r:i.Arg_NotImplementedException);this.name="NotImplementedException";this.stack=(new Error).stack;this.setErrorCode(n.__HResults.E_NOTIMPL)}return __extends(i,t),i.Arg_NotImplementedException="The method or operation is not implemented.",i}(n.Exception);n.NotImplementedException=t}(System||(System={}));UNREFERENCED_PARAMETER=function(){},function(n){var l=function(){function n(){}return n.compare=function(n){var t;return function(i,r){return t=i[n]<r[n]?-1:i[n]>r[n]?1:0}},n.shuffle=function(n){for(var i,r,t=n.length-1;t>0;t--)i=Math.floor(Math.random()*(t+1)),r=n[t],n[t]=n[i],n[i]=r;return n},n}(),i,r,t,u,f,e,o,s,h,c;n.ArrayUtils=l;i=function(){function t(){}return t.addClass=function(n,i){return t.addClassInternal(n,i)},t.addClassInternal=function(n,t){if(!n||!t||this.hasClassInternal(n,t))return!1;n.className=(n.className?n.className+" ":"")+t},t.removeClass=function(n,i){return t.removeClassInternal(n,i)},t.removeClassInternal=function(n,i){if(!n||!i||!t.hasClassInternal(n,i))return!1;n.className=n.className.replace(new RegExp("( "+i+")|("+i+")","g"),"")},t.swapClass=function(n,i,r){var u={className:n.className};t.removeClassInternal(u,i);t.addClassInternal(u,r);n.className=u.className},t.hasClass=function(n,i){return t.hasClassInternal(n,i)},t.hasClassInternal=function(n,t){return n.className!==undefined?new RegExp("(^|\\s)"+t+"(\\s|$)").test(n.className):!1},t.toggleClass=function(t,i){var r,u;return r=n.CssUtils.hasClass(t,i),u=r?n.CssUtils.removeClass:n.CssUtils.addClass,u(t,i),!r},t}();n.CssUtils=i;r=function(){function n(){}return n.ancestor=function(n,t,i){if(!t||!n||(n=n.toUpperCase(),i&&t&&t.nodeName===n))return t;while(t&&t.nodeName!==n&&t.parentNode)t=t.parentNode;return t&&t.nodeName===n?t:null},n.get=function(){var n=this.getAll.apply(this,arguments);return n&&n.length?n[n.length-1]:n&&n.length===0?null:n},n.getAll=function(n,t){var i,r,u;return arguments.length===1?(i=document.documentElement,r=n):(i=n,r=t),i&&i.querySelectorAll&&(u=i.querySelectorAll(r)),u},n}();n.DomUtils=r;t=function(){function n(){}return n}();n.EventAddResult=t;u=function(){function n(){}return n.add=function(n,i,r){var u=new t;return u.detach=this.remove(n,i,r),window.addEventListener?n.addEventListener(i,r,!1):n.attachEvent("on"+i,r),u},n.remove=function(n,t,i){window.removeEventListener!==undefined?n.removeEventListener(t,i,!1):n.detachEvent("on"+t,i)},n.preventDefault=function(n){return n.preventDefault?n.preventDefault():(n.returnValue=!1,n.cancelBubble=!0),!1},n}();n.EventUtils=u;f=function(){function n(){}return n}();n.CssTransformSupport=f;e=function(){function n(){}return n}();n.CssRotateSupport=e;o=function(){function n(){}return n}();n.LocalFeatureSupport=o;s=function(){function n(){this.testDiv=document.createElement("div");this.localFeatures={transform:{ie:this.has("-ms-transform"),moz:this.has("MozTransform"),opera:this.has("OTransform"),webkit:this.has("webkitTransform"),w3:this.has("transform"),prop:null},rotate:{has3D:!1,prop:null},getAnimationFrame:this.getAnimationFrame};this.localAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;this.localFeatures.transform.prop=this.localFeatures.transform.w3||this.localFeatures.transform.moz||this.localFeatures.transform.webkit||this.localFeatures.transform.ie||this.localFeatures.transform.opera;this.localFeatures.transform.prop&&(this.transform=this.localFeatures.transform.prop,this.styles={css_2d:"rotate(0deg)",css_3d:"rotate3d(0,0,0,0deg)"},this.attempt(this.styles.css_3d)?(this.localFeatures.rotate.has3D=!0,this.prop="rotate3d"):this.attempt(this.styles.css_2d)&&(this.prop="rotate"),this.localFeatures.rotate.prop=this.prop);this.testDiv=null}return n.prototype.has=function(n){var t=this.testDiv.style[n];return t!==undefined?n:null},n.prototype.attempt=function(n){try{this.testDiv.style[this.transform]=n}catch(t){return!1}return!!this.testDiv.style[this.transform]},n.prototype.features=function(){return this.localFeatures},n.prototype.getAnimationFrame=function(){return this.localAnimationFrame?function(){return this.localAnimationFrame.apply(window,arguments)}:null},n}();n.FeatureUtils=s;h=function(){function n(){}return n.getOffX=function(n){var t=0;if(n.offsetParent)while(n.offsetParent)t+=n.offsetLeft,n=n.offsetParent;else n.x&&(t+=n.x);return t},n.getOffY=function(n){var t=0;if(n.offsetParent)while(n.offsetParent)t+=n.offsetTop,n=n.offsetParent;else n.y&&(t+=n.y);return t},n}();n.PositionUtils=h;c=function(){function n(){}return n.get=function(n,t){var i;return n.currentStyle?i=n.currentStyle[t]:window.getComputedStyle&&(i=document.defaultView.getComputedStyle(n,null).getPropertyValue(t)),i},n}();n.StyleUtils=c}(Sm2ShimUtils||(Sm2ShimUtils={})),function(n){var t;(function(n){var i=function(){function n(){}return n}(),t;n.Sm2PlayerOption=i;t=function(){function n(){}return n}();n.SoundManagerSetupOption=t;n.FileSrcAttribute="data-filesrc"})(t=n.Options||(n.Options={}))}(Sm2Shim||(Sm2Shim={})),function(n){var t;(function(t){var i=Sm2ShimUtils.CssUtils,u=Sm2ShimUtils.DomUtils,r=Sm2ShimUtils.EventUtils,f=Sm2ShimUtils.PositionUtils,e=Sm2ShimUtils.StyleUtils,o=function(){function o(f){var e=this,s;this.css={disabled:"disabled",selected:"selected",active:"active",legacy:"legacy",noVolume:"no-volume",playlistOpen:"playlist-open"};this.extras={loadFailedCharacter:'<span title="Failed to load/play." class="load-error">✖<\/span>'};this.playerOptions={stopOtherSounds:!0,excludeClass:"sm2-exclude"};this.failureCount=0;this.failureThreshold=5;this.dom={o:null,playlist:null,playlistTarget:null,playlistContainer:null,time:null,player:null,progress:null,progressTrack:null,progressBar:null,duration:null,volume:null};this.self=this;this.actionData={volume:{x:0,y:0,width:0,height:0,backgroundSize:0}};this.actions={play:function(t){var u,i,r;if(t!==undefined&&!isNaN(t))return this.self.playlistController.playItemByOffset(t);r=t;r&&r.target&&(u=r.target||r.srcElement,i=u.getAttribute(n.Options.FileSrcAttribute));i&&i.indexOf("#")===-1||(i=this.self.dom.playlist.getElementsByTagName("a")[0].getAttribute(n.Options.FileSrcAttribute));this.self.soundObject||(this.self.soundObject=this.self.makeSound(i));this.self.soundObject.playState||this.self.stopOtherSounds();this.self.soundObject.togglePause();this.self.soundObject.paused&&this.self.playlistController.data.timer&&(window.clearTimeout(this.self.playlistController.data.timer),this.self.playlistController.data.timer=null)},pause:function(){e.self.soundObject&&e.self.soundObject.readyState&&e.self.soundObject.pause()},resume:function(){e.self.soundObject&&e.self.soundObject.readyState&&e.self.soundObject.resume()},stop:function(){return e.actions.pause()},next:function(){var n,t;e.playlistController.data.timer&&(window.clearTimeout(e.playlistController.data.timer),e.playlistController.data.timer=null);t=e.playlistController.data.selectedIndex;n=e.playlistController.getNext();n&&e.playlistController.data.selectedIndex!==t&&e.playLink(n.getElementsByTagName("a")[0])},prev:function(){var n,t;t=e.playlistController.data.selectedIndex;n=e.playlistController.getPrevious();n&&e.playlistController.data.selectedIndex!==t&&e.playLink(n.getElementsByTagName("a")[0])},shuffle:function(n){UNREFERENCED_PARAMETER(n);throw new System.NotImplementedException;},repeat:function(n){var t=n?n.target||n.srcElement:u.get(e.dom.o,".repeat");t&&!i.hasClass(t,e.css.disabled)&&(i.toggleClass(t.parentNode,e.css.active),e.playlistController.data.loopMode=!e.playlistController.data.loopMode)},menu:function(n){var t;t=i.hasClass(e.dom.o,e.css.playlistOpen);!e.playlistController||e.playlistController.data.selectedIndex||e.firstOpen||(e.dom.playlist.scrollTop=0,e.firstOpen=!0);typeof n=="boolean"&&n||(t||(e.dom.playlistContainer.style.height="0px"),t=i.toggleClass(e.dom.o,e.css.playlistOpen));e.dom.playlistContainer.style.height=(t?e.dom.playlistContainer.scrollHeight:0)+"px"},adjustVolume:function(n){var t,i,f,u,e;return(f=this.dom.volume,n===undefined)?!1:!n||n.clientX===undefined?(arguments.length&&window.console&&window.console.warn&&console.warn("Bar UI: call setVolume("+n+") instead of adjustVolume("+n+")."),this.actions.setVolume.apply(this,arguments)):(t=(100-this.actionData.volume.backgroundSize)/2,e=Math.max(0,Math.min(1,(n.clientX-this.actionData.volume.x)/this.actionData.volume.width)),f.style.clip="rect(0px, "+this.actionData.volume.width*e+"px, "+this.actionData.volume.height+"px, "+this.actionData.volume.width*(t/100)+"px)",i=t/100*this.actionData.volume.width,u=Math.max(0,Math.min(1,(n.clientX-this.actionData.volume.x-i)/(this.actionData.volume.width-i*2)))*100,this.soundObject&&this.soundObject.setVolume(u),this.defaultVolume=u,r.preventDefault(n))},releaseVolume:function(){r.remove(document,"mousemove",this.actions.adjustVolume);r.remove(document,"mouseup",this.actions.releaseVolume)},setVolume:function(n){var r,u,t,f,i,e;n===undefined||isNaN(n)||(this.dom.volume&&(f=this.dom.volume,r=this.actionData.volume.backgroundSize,u=(100-r)/2,t=this.actionData.volume.width*(u/100),i=t,e=i+(this.actionData.volume.width-t*2)*(n/100),f.style.clip="rect(0px, "+e+"px, "+this.actionData.volume.height+"px, "+i+"px)"),this.soundObject&&this.soundObject.setVolume(n),this.defaultVolume=n)},self:this};this.playerNode=f;this.defaultVolume=soundManager.defaultOptions.volume;window.sm2BarPlayerOptions=this.playerOptions;this.playerNode||console.warn("Sm2Player.constructor(): No playerNode element?");this.dom.o=f;window.navigator.userAgent.match(/msie [678]/i)&&i.addClass(this.dom.o,this.css.legacy);window.navigator.userAgent.match(/mobile/i)&&i.addClass(this.dom.o,this.css.noVolume);this.dom.progress=u.get(this.dom.o,".sm2-progress-ball");this.dom.progressTrack=u.get(this.dom.o,".sm2-progress-track");this.dom.progressBar=u.get(this.dom.o,".sm2-progress-bar");this.dom.volume=u.get(this.dom.o,"a.sm2-volume-control");this.dom.duration=u.get(this.dom.o,".sm2-inline-duration");this.dom.time=u.get(this.dom.o,".sm2-inline-time");this.playlistController=new t.Sm2PlaylistController(this,this.dom,this.css);s=this.playlistController.getItem(0);this.playlistController.select(s);this.isGrabbing=!1;s&&this.setTitle(s);r.add(this.dom.o,"mousedown",function(n){return e.handleMouseDown(n)});r.add(this.dom.o,"click",function(n){return e.handleClick(n)});r.add(document,"mousemove",this.handleMouse.bind(this));r.add(document,"mouseup",this.releaseMouse.bind(this));r.add(this.dom.progressTrack,"mousedown",function(n){return o.isRightClick(n)?!0:(e.isGrabbing=!0,i.addClass(e.dom.o,"grabbing"),e.handleMouse(n))});window.navigator.userAgent.match(/mobile/i)||i.hasClass(this.dom.o,"auto-play")&&window.setTimeout(function(){e.playlistController.playItemByOffset(0)},2);i.hasClass(this.dom.o,"repeat-playback")&&window.setTimeout(function(){e.playlistController.data.loopMode=!0;i.toggleClass(u.get(e.dom.o,".sm2-icon-repeat").parentNode,e.css.active)},2)}return o.prototype.stopOtherSounds=function(){this.playerOptions.stopOtherSounds&&soundManager.stopAll()},o.prototype.playLink=function(t){var i=t.getAttribute(n.Options.FileSrcAttribute);soundManager.canPlayURL(i)&&(this.playlistController.data.timer&&(window.clearTimeout(this.playlistController.data.timer),this.playlistController.data.timer=null),this.soundObject||(this.soundObject=this.makeSound(i)),this.soundObject.stop(),this.playlistController.select(t.parentNode),this.setTitle(t.parentNode),this.dom.progress.style.left="0px",this.dom.progressBar.style.width="0px",this.stopOtherSounds(),this.soundObject.play({url:i,position:0}))},o.prototype.makeSound=function(t){var r=this,f=this;return soundManager.createSound({url:t,volume:this.defaultVolume,whileplaying:function(){var t=100,i,r;i=Math.min(t,Math.max(0,t*(this.position/this.durationEstimate)))+"%";r=Math.min(100,Math.max(0,100*this.position/this.durationEstimate))+"%";this.duration&&(f.dom.progress.style.left=i,f.dom.progressBar.style.width=r,f.dom.time.innerHTML=n.Player.Sm2Player.getTime(this.position,!0))},whileloading:function(){this.isHTML5||(f.dom.duration.innerHTML=n.Player.Sm2Player.getTime(this.durationEstimate,!0))},onbufferchange:function(n){(n?i.addClass:i.removeClass)(r.dom.o,"buffering")},onplay:function(){i.swapClass(r.dom.o,"paused","playing");r.callback("play")},onpause:function(){i.swapClass(r.dom.o,"playing","paused");r.callback("pause")},onresume:function(){i.swapClass(r.dom.o,"paused","playing")},onload:function(t){t?(f.dom.duration.innerHTML=n.Player.Sm2Player.getTime(this.duration,!0),f.failureCount=0):this._iO&&this._iO.onerror&&this._iO.onerror()},onerror:function(){r.failureCount++;r.failureCount>=r.failureThreshold&&r.playlistController.data.loopMode&&(r.playlistController.data.loopMode=!1,i.toggleClass(u.get(r.dom.o,".sm2-icon-repeat").parentNode,r.css.active));var f,n,t;f=r.playlistController.getItem();f&&r.extras.loadFailedCharacter&&(r.dom.playlistTarget.innerHTML=r.dom.playlistTarget.innerHTML.replace("<li>","<li>"+r.extras.loadFailedCharacter+" "),r.playlistController.data.playlist&&r.playlistController.data.playlist[r.playlistController.data.selectedIndex]&&(n=r.playlistController.data.playlist[r.playlistController.data.selectedIndex].getElementsByTagName("a")[0],t=n.innerHTML,t.indexOf(r.extras.loadFailedCharacter)===-1&&(n.innerHTML=r.extras.loadFailedCharacter+" "+t)));r.callback("error");navigator.userAgent.match(/mobile/i)?r.actions.next():(r.playlistController.data.timer&&window.clearTimeout(r.playlistController.data.timer),r.playlistController.data.timer=window.setTimeout(r.actions.next,2e3))},onstop:function(){i.removeClass(r.dom.o,"playing")},onfinish:function(){var t,n;i.removeClass(f.dom.o,"playing");f.dom.progress.style.left="0%";t=f.playlistController.data.selectedIndex;f.callback("finish");n=f.playlistController.getNext();n&&f.playlistController.data.selectedIndex!==t||n&&f.playlistController.data.loopMode?(f.playlistController.select(n),f.setTitle(n),f.stopOtherSounds(),this.play({url:f.playlistController.getURL()})):f.callback("end")}})},o.prototype.setTitle=function(n){var t=n.getElementsByTagName("a");t.length&&(n=t[0]);this.dom.playlistTarget.innerHTML='<ul class="sm2-playlist-bd"><li>'+n.innerHTML.replace(this.extras.loadFailedCharacter,"")+"<\/li><\/ul>";this.dom.playlistTarget.getElementsByTagName("li")[0].scrollWidth>this.dom.playlistTarget.offsetWidth&&(this.dom.playlistTarget.innerHTML='<ul class="sm2-playlist-bd"><li><marquee>'+n.innerHTML+"<\/marquee><\/li><\/ul>")},o.getTime=function(n,t){var f=Math.floor(n/1e3),i=Math.floor(f/3600),r=Math.floor(f/60)-Math.floor(i*60),u=Math.floor(f-i*3600-r*60);return t?(i?i+":":"")+(i&&r<10?"0"+r:r)+":"+(u<10?"0"+u:u):{min:r,sec:u}},o.prototype.callback=function(n){n&&this.on&&this.on[n]&&this.on[n](this)},o.isRightClick=function(n){if(n&&(n.which&&n.which===2||n.which===undefined&&n.button!==1))return!0},o.prototype.getActionData=function(n){if(!n)return!1;this.actionData.volume.x=f.getOffX(n);this.actionData.volume.y=f.getOffY(n);this.actionData.volume.width=n.offsetWidth;this.actionData.volume.height=n.offsetHeight;this.actionData.volume.backgroundSize=parseInt(e.get(n,"background-size"),10);window.navigator.userAgent.match(/msie|trident/i)&&(this.actionData.volume.backgroundSize=this.actionData.volume.backgroundSize/this.actionData.volume.width*100)},o.prototype.handleMouse=function(n){if(this.isGrabbing){var r=void 0,u=void 0,e=void 0,o=void 0,i=void 0,t=void 0;r=this.dom.progressTrack;u=f.getOffX(r);e=r.offsetWidth;o=n.clientX-u;i=o/e;i>=1&&(i=1);t=this.soundObject;t&&t.duration&&(t.setPosition(t.duration*i),t._iO&&t._iO.whileplaying&&t._iO.whileplaying.apply(t));n.preventDefault&&n.preventDefault()}return!1},o.prototype.handleMouseDown=function(n){var u,t;return(t=n.target||n.srcElement,o.isRightClick(n))?!0:(t.nodeName.toLowerCase()!=="a"&&(u=t.getElementsByTagName("a"),u&&u.length&&(t=t.getElementsByTagName("a")[0])),i.hasClass(t,"sm2-volume-control")?(this.getActionData(t),r.add(document,"mousemove",this.actions.adjustVolume.bind(this)),r.add(document,"mouseup",this.actions.releaseVolume.bind(this)),this.actions.adjustVolume(n)):void 0)},o.prototype.releaseMouse=function(n){return this.isGrabbing=!1,i.removeClass(this.dom.o,"grabbing"),r.preventDefault(n),!1},o.prototype.handleClick=function(t){var e,u,s,f,o,c,h;if(e=t||window.event,u=e.target||e.srcElement,u&&u.nodeName){if(f=u.nodeName.toLowerCase(),f!=="a"&&u.parentNode){do u=u.parentNode,f=u.nodeName.toLowerCase();while(f!=="a"&&u.parentNode);if(!u)return!1}if(f==="a"&&(c=u.getAttribute(n.Options.FileSrcAttribute),soundManager.canPlayURL(c)?i.hasClass(u,this.playerOptions.excludeClass)||(this.playLink(u),h=!0):(s=u.href.lastIndexOf("#"),s!==-1&&(o=u.href.substr(s+1),o&&this.actions[o]&&(h=!0,this.actions[o](t)))),h))return r.preventDefault(e)}},o}();t.Sm2Player=o})(t=n.Player||(n.Player={}))}(Sm2Shim||(Sm2Shim={})),function(n){var t;(function(t){var i=Sm2ShimUtils.DomUtils,r=Sm2ShimUtils.CssUtils,u=function(){function t(n,t,i){this.data={playlist:null,selectedIndex:0,loopMode:!1,timer:null};this.player=n;this.dom=t;this.css=i;this.defaultVolume=soundManager.defaultOptions.volume;this.initDOM();this.refreshDOM();Sm2ShimUtils.CssUtils.hasClass(this.dom.o,this.css.playlistOpen)&&window.setTimeout(function(){},1)}return t.prototype.getPlaylist=function(){return this.data.playlist},t.prototype.getItem=function(n){var t;return this.data.selectedIndex===null?n:(t=this.getPlaylist(),n=n!==undefined?n:this.data.selectedIndex,n=Math.max(0,Math.min(n,t.length)),t[n])},t.prototype.getNext=function(){return this.data.selectedIndex!==null&&this.data.selectedIndex++,this.data.playlist.length>1?this.data.selectedIndex>=this.data.playlist.length&&(this.data.loopMode?this.data.selectedIndex=0:this.data.selectedIndex--):this.data.selectedIndex=this.data.loopMode?0:null,this.getItem()},t.prototype.getPrevious=function(){return this.data.selectedIndex--,this.data.selectedIndex<0&&(this.data.loopMode?this.data.selectedIndex=this.data.playlist.length-1:this.data.selectedIndex++),this.getItem()},t.prototype.getURL=function(){var t,i;return t=this.getItem(),t&&(i=t.getElementsByTagName("a")[0].getAttribute(n.Options.FileSrcAttribute)),i},t.prototype.playItemByOffset=function(n){n=n||0;var t=this.getItem(n);t&&this.player.playLink(t.getElementsByTagName("a")[0])},t.prototype.select=function(n){var h,t,u,f,e,o,s;this.resetLastSelected();n&&(s=i.ancestor("li",n),r.addClass(s,this.css.selected),t=n.offsetTop,u=t+n.offsetHeight,f=this.dom.playlistContainer.offsetHeight,e=this.dom.playlist.scrollTop,o=8,u>f+e?this.dom.playlist.scrollTop=u-f+o:t<e&&(this.dom.playlist.scrollTop=n.offsetTop-o));h=this.findOffsetFromItem(s);this.data.selectedIndex=h},t.prototype.refresh=function(){return this.refreshDOM()},t.prototype.findOffsetFromItem=function(n){var i,t,u,r;if(r=-1,i=this.getPlaylist(),i)for(t=0,u=i.length;t<u;t++)if(i[t]===n){r=t;break}return r},t.prototype.resetLastSelected=function(){for(var u=i.getAll(this.dom.playlist,"."+this.css.selected),n=0,t=u.length;n<t;n++)r.removeClass(u[n],this.css.selected)},t.prototype.initDOM=function(){this.dom.playlistTarget=i.get(this.dom.o,".sm2-playlist-target");this.dom.playlistContainer=i.get(this.dom.o,".sm2-playlist-drawer");this.dom.playlist=i.get(this.dom.o,".sm2-playlist-bd")},t.prototype.refreshDOM=function(){if(!this.dom.playlist)return window.console&&console.warn&&console.warn("refreshDOM(): playlist node not found?"),!1;this.data.playlist=this.dom.playlist.getElementsByTagName("li")},t}();t.Sm2PlaylistController=u})(t=n.Player||(n.Player={}))}(Sm2Shim||(Sm2Shim={}));Sm2Player=Sm2Shim.Player.Sm2Player;domUtils=Sm2ShimUtils.DomUtils,function(){var i=".sm2-bar-ui",t=[],n=200;window.navigator.userAgent.match(/mobile/i)&&(n=500);soundManager.setup({html5PollingInterval:n,flashPollingInterval:n,flashVersion:9,debugMode:!1,debugFlash:!1,preferFlash:!1,url:"https://mmixstaticassets.azureedge.net/Sm2Shim/"});soundManager.onready(function(){var n,u,r=domUtils.getAll(i);if(r&&r.length)for(n=0,u=r.length;n<u;n++)t.push(new Sm2Player(r[n]))});window.sm2BarPlayers=t;window.SM2BarPlayer=Sm2Player}();